---
name: huashu-douyin-script
description: |
  抖音爆款脚本创作工作流。从竞品视频拆解到脚本生成的完整流程：下载抖音视频→Gemini视频分析→爆款公式提炼→脚本+分镜生成→AI味审校。
  当用户提到"抖音脚本"、"爆款拆解"、"竞品分析"、"带货脚本"、"千川素材"、"种草脚本"、"视频拆解"、"抖音视频分析"时使用此技能。
---

# 抖音爆款脚本创作

从竞品视频拆解到脚本生成的完整工作流。将「凭感觉模仿爆款」变成「AI系统拆解+结构化复制」。

## 环境要求

- `uv`（Python包管理器）
- `yt-dlp`（抖音视频下载，需 `pip install yt-dlp` 或 `brew install yt-dlp`）
- `GEMINI_API_KEY` 环境变量（用于Gemini视频分析，从 https://aistudio.google.com/apikey 获取）
- Chrome浏览器已登录抖音（用于提取下载Cookie）

**路径约定**：下文中 `SKILL_DIR` 指本SKILL.md所在目录的绝对路径。运行脚本前，先用 `dirname` 或 Glob 工具确定SKILL.md的实际位置，替换 `SKILL_DIR`。

## 6步工作流

### Step 1: 收集输入

向用户收集以下信息：

**必填**：
- 抖音视频链接（1-5个对标/竞品视频）
- 产品信息（名称、核心卖点、目标人群、价格）
- 脚本类型：种草视频 or 千川投放素材

**选填**：
- 产品图片（用于脚本中的视觉参考）
- 目标时长（种草默认30秒，千川默认15秒）
- 品牌调性要求
- 投放目标（直播间引流/商品详情页/关注转化）

如果用户只提供了部分信息，主动询问缺失项。

---

### Step 2: 下载视频

运行下载脚本：

```bash
uv run SKILL_DIR/scripts/download_douyin.py \
  --urls "URL1" "URL2" \
  --output-dir _temp/douyin-downloads
```

**参数说明**：
- `--urls`：支持短链、页面链接、分享文本（自动提取URL）
- `--output-dir`：默认当前工作目录下 `_temp/douyin-downloads/`
- `--cookies-browser`：默认chrome，可选edge/firefox

**下载失败时**：
1. 提示用户确认Chrome已登录抖音
2. 建议手动下载视频放入 `_temp/douyin-downloads/`
3. 如果有douyin-mcp-server可用，尝试通过MCP下载

---

### Step 3: Gemini视频分析（可并行）

对每个下载成功的视频，调用 Gemini 视频分析：

```bash
uv run SKILL_DIR/scripts/analyze_video.py \
  --video "_temp/douyin-downloads/douyin-1-xxx.mp4" \
  --prompt "PROMPT_BELOW" \
  --model flash \
  --resolution medium \
  --output "_temp/douyin-downloads/analysis-1.md"
```

**使用flash模型 + medium分辨率**（短视频足够，节省成本）。

**多个视频可并行分析**（用 `run_in_background=true`）。

**爆款分析Prompt**（传入 `--prompt` 参数）：

```
作为资深抖音电商视频分析师，请对这个视频进行7维度深度拆解。
特别注意：前3秒是最关键的部分，需要逐帧级别的详细拆解。

## 1. 钩子分析（前3秒）⭐ 最关键
前3秒 = 文案钩子 + 视觉钩子，两条线都要详细分析。

### 1a. 文案钩子
- 钩子类型（反常识/痛点/数据/场景/悬念/利益）
- 钩子文案完整转录
- 文案与产品的关联度（强关联/弱关联）

### 1b. 视觉钩子（逐帧描述）
- 第0秒画面：暂停在最开始，描述这一帧的构图、色调、主体
- 视觉钩子类型（视觉奇观/产品堆叠/画面突变/动作冲击/文字弹出/第一人称POV）
- 具体画面描述：景别、色调、运镜方式、特效、人物表情和动作
- 视觉信息密度：画面中同时出现了多少信息元素

### 1c. 文案×视觉配合
- 文案和画面是否同步强化同一个信息
- 声音设计：前3秒有无音效/BGM变化/人声语气变化
- 综合钩子强度评分（1-10）及理由

## 2. 分镜结构
用表格拆解每个镜头：
| 时间 | 景别 | 画面内容 | 旁白/字幕 | 转场方式 |

## 3. 节奏设计
- 快切片段时间点
- 节奏变化模式（快-慢-快/渐进加速/脉冲式）
- BGM与画面的配合度

## 4. 视觉元素
- 色调和滤镜风格
- 字幕样式和出现时机
- 产品展示方式
- 构图特点

## 5. 转化设计
- CTA类型和出现时机
- 价格锚定策略
- 紧迫感营造手段
- 转化路径（视频→?→?）

## 6. 合规检查
- 是否存在绝对化用语
- 功效表述是否合规
- 有无潜在审核风险

## 7. 可复制要素
- 可直接复制的：钩子句式、分镜结构、视觉风格、CTA话术
- 不可复制的：独特场景、特定达人、品牌势能

请用中文输出，尽量详细。
```

---

### Step 4: 爆款公式提炼 ← 用户确认节点

**有竞品视频时** → 汇总分析结果：

读取所有 `analysis-*.md` 文件，同时读取 `references/proven-formulas.md` 中的已验证公式作为对照，由Claude汇总提炼：

1. **品类爆款共性**：多个视频共同的成功要素
2. **钩子公式**：最有效的钩子类型和句式模板
3. **最佳分镜结构**：适合该品类的标准分镜流程
4. **节奏模板**：推荐的节奏设计方案
5. **转化路径**：最优的CTA策略
6. **风险提示**：需要避免的合规问题

**无竞品视频时** → 直接使用已验证公式：

读取 `references/proven-formulas.md`，根据产品品类选择最接近的品类公式作为基线。提醒用户：无竞品分析的脚本可能缺少品类针对性，建议后续补充竞品视频。

**保存汇总**到 `_temp/douyin-downloads/[产品名]-爆款分析汇总.md`

**展示给用户确认**：
- 确认分析是否准确
- 确认脚本类型（种草/千川）
- 补充产品信息（如果Step 1未完整提供）

**公式沉淀**：分析完成后，将新品类的公式追加到 `references/proven-formulas.md`，持续积累。

---

### Step 5: 脚本+分镜生成

基于爆款公式 + 产品信息 + 口语风格样本生成脚本。

**生成前准备**：
1. 读取 `references/script-style-samples.md` 获取口语风格范例
2. 读取 `references/analysis-dimensions.md` 中的种草/千川区别表
3. 读取Step 4的爆款分析汇总

**脚本生成Prompt模板**：

#### 种草视频脚本

```
你是抖音电商短视频编导，擅长带货类种草内容。

## 任务
为以下产品生成一个{时长}秒的种草视频脚本。

## 产品信息
{产品名称、核心卖点、目标人群、价格、品牌信息}

## 爆款公式（基于竞品分析）
{Step 4提炼的爆款公式}

## 口语风格要求
参考以下真实脚本的风格特征：
- 极度口语化：用说话的方式写字，短句为主（不超过15字）
- 具体数据锚点：用具体数字，不用「很多」「大量」
- 感官描述：调动视觉/触觉/味觉/嗅觉
- 情感触发：身份认同、焦虑激活、场景共鸣
- 品牌背书简化：一句话带过
- 价格锚定+紧迫感

真实脚本范例：
{从script-style-samples.md选取同品类或风格接近的1-2个样本}

## 输出要求

### Part A：完整脚本
- 开头3秒必须有强钩子（参考分析中最有效的钩子类型）
- 中间展示核心卖点（最多3个，多了观众记不住）
- 结尾有明确CTA
- 全文口语化，像朋友推荐
- 不使用绝对化用语，符合抖音广告审核规范
- 标注每段预估时长

### Part B：分镜表格（前3秒必须详细描述视觉钩子）
| 镜号 | 时长 | 景别 | 画面内容 | 旁白/字幕 | 拍摄建议 |

⚠️ 前3秒的分镜必须包含：
- 视觉钩子类型（视觉奇观/产品堆叠/画面突变/动作冲击/文字弹出/第一人称POV）
- 具体画面描述：构图、色调、运镜、特效、表情动作
- 第一帧设计：暂停在第0秒时这一帧能否吸引点击
- 文案×画面配合：声音和画面是否同步强化同一个信息
```

#### 千川投放素材脚本

```
你是千川投放素材编导，擅长高转化信息流广告。

## 任务
为以下产品写一条{时长}秒千川投放素材脚本。

## 产品信息
{产品名称、核心卖点、目标人群、价格、投放目标}

## 爆款公式（基于竞品分析）
{Step 4提炼的爆款公式}

## 口语风格要求
{同种草脚本的风格要求}

## 千川素材特殊要求
- 前3秒必须有强钩子（数据型或痛点型，不要用问句开头）
- 信息密集，卖点直给
- CTA要硬：明确引导点击/进直播间/下单
- 不使用绝对化用语，不做未经验证的功效承诺
- 符合千川审核规范

## 输出
### Part A：完整脚本（标注时长）
### Part B：分镜表格
| 镜号 | 时长 | 画面内容 | 旁白/字幕 | 素材建议 |
```

**保存脚本**到 `_temp/douyin-downloads/[产品名]-种草脚本.md` 或 `[产品名]-千川素材脚本.md`

---

### Step 6: AI味审校 ← 用户确认节点

对生成的脚本进行视频脚本专用审校，5项检查：

#### 检查1：口语化程度
参考 `视频脚本口语化审校` skill的规则：
- ❌ 「接下来我们将进行...」→ ✅ 「我们来...」
- ❌ 「进行操作」→ ✅ 「点击」
- ❌ 「综上所述」→ ✅ 直接总结
- 短句为主（不超过15字）
- 大声读一遍，卡顿的地方重写

#### 检查2：钩子强度
- 前3秒是否有足够吸引力
- 是否与目标人群匹配
- 是否制造了好奇心/紧迫感/共鸣

#### 检查3：节奏与时长
- 每段时长标注是否合理
- 总时长是否在目标范围内
- 信息密度是否适中（不过载也不空洞）

#### 检查4：广审合规检查（重点！）

这是最容易导致素材被拒的环节。即使产品官方宣传语中有某些表述，投放时也可能被平台审核拒绝。

**4a. 绝对化用语**（必须删除）：
- ❌ 最好/第一/100%/绝对/唯一/顶级/全网最低

**4b. 时间+功效承诺**（高危！最常被卡）：
- ❌ 「60秒缓解敏感」→ ✅ 「用完嘴巴就舒服多了」
- ❌ 「28天淡斑83%」→ ✅ 「坚持用，斑真的有变淡」
- ❌ 「7天见效」→ ✅ 「用了一阵子就能看到变化」
- 规则：**具体时间 + 具体功效 = 必须改写**。去掉时间或去掉功效承诺，用模糊化的体感描述代替
- 即使数据来自产品官方/临床报告，投放素材中也不能直接使用

**4c. 功效承诺措辞**：
- ❌ 治好/根治/永久/彻底解决 → ✅ 缓解/帮助改善/感觉好多了
- ❌ 美白/祛痘/抗衰 → ✅ 提亮/改善痘痘肌/让皮肤状态更好（化妆品类需特别注意）
- ❌ 消炎/杀菌/抑菌 → ✅ 感觉清爽干净（非药品不能用医疗术语）

**4d. 对比和贬损**：
- ❌ 「比XX品牌好」「吊打所有竞品」
- ❌ 「医院要花几千块」→ ⚠️ 可以用但不能暗示替代医疗

**4e. 诱导和虚假**：
- ❌ 「不买就亏了」「错过再等一年」（虚假紧迫感）
- ❌ 未标注的演员扮演使用者/专家

**改写原则**：用第一人称体感代替第三人称数据。「我用了之后感觉...」比「经临床验证...」安全得多。

#### 检查5：AI味检查
参考 `ai-taste-proofreading` skill的6大AI腔规则：
- ❌ 套话连篇：「在当今时代」「值得注意的是」
- ❌ AI句式：「不是...而是...」「不仅...而且...」连续使用
- ❌ 书面词汇：「显著提升」「充分利用」
- ❌ 结构机械：过度使用「首先、其次、最后」
- ❌ 态度中立：「具体取决于实际情况」
- ❌ 细节缺失：大词多、具体细节少

**审校后**展示修改清单给用户确认，然后应用修改。

---

## 文件保存规则

所有中间产物和最终输出保存在 `写作/_temp/douyin-downloads/`：

```
_temp/douyin-downloads/
├── douyin-1-[ID].mp4             # 下载的视频
├── douyin-2-[ID].mp4
├── analysis-1.md                  # 视频分析结果
├── analysis-2.md
├── [产品名]-爆款分析汇总.md       # 多视频汇总
├── [产品名]-种草脚本.md           # 最终种草脚本
└── [产品名]-千川素材脚本.md       # 最终千川脚本
```

## 参考资源

| 资源 | 路径 | 用途 |
|------|------|------|
| 分析维度框架 | `references/analysis-dimensions.md` | 7维度分析+种草vs千川 |
| 已验证爆款公式 | `references/proven-formulas.md` | 品类公式库，无竞品视频时的基线 |
| 口语风格样本 | `references/script-style-samples.md` | 脚本生成的few-shot范例 |
| 视频下载脚本 | `scripts/download_douyin.py` | 抖音视频下载（yt-dlp） |
| Gemini视频分析 | `scripts/analyze_video.py` | 视频理解和拆解（内置） |
| AI味审校规则 | Step 6中内嵌 | 6大AI腔识别 |
| 口语化审校 | Step 6中内嵌 | 口语化改写规则 |

## 快速使用

**有竞品视频时**（「帮我拆解这几个抖音视频，生成一个脚本」）：
1. 收集链接和产品信息（Step 1）
2. 下载+分析可并行执行（Step 2-3）
3. 展示分析汇总，确认方向（Step 4）
4. 生成脚本，确认后审校（Step 5-6）
5. 将新品类公式追加到 `references/proven-formulas.md`

**无竞品视频时**（「帮我写个XX产品的种草脚本」）：
1. 收集产品信息（Step 1，跳过视频链接）
2. 跳过 Step 2-3
3. 从 `references/proven-formulas.md` 选取品类公式（Step 4）
4. 生成脚本，确认后审校（Step 5-6）

总耗时：有视频约15-20分钟，无视频约5-10分钟。

---

> **花叔出品** | AI Native Coder · 独立开发者
> 公众号「花叔」| 30万+粉丝 | AI工具与效率提升
> 代表作：小猫补光灯（AppStore付费榜Top1）·《一本书玩转DeepSeek》
